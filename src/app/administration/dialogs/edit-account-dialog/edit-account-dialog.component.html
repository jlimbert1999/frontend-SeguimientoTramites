<h2 mat-dialog-title>EDICION CUENTA</h2>
<mat-dialog-content>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-4">
        <div class="card bg-transparent">
          <div class="card-header">Detalles funcionario</div>
          <div class="card-body">
            <div class="account-settings">
              <div class="user-profile">
                <div class="user-avatar">
                  <img src="../../../../assets/img/account.png" />
                </div>
                @if(data.funcionario){
                <p class="fw-bold">
                  {{ data.funcionario.fullname | titlecase }}
                  <br />
                  <span *ngIf="data.funcionario.cargo; else noJobTemplate">
                    {{ data.funcionario.cargo.nombre }}
                  </span>
                  <ng-template #noJobTemplate>
                    <span style="color: orange">--- SIN CARGO ---</span>
                  </ng-template>
                </p>
                } @else {
                <h2 style="color: red">SIN ASIGNAR</h2>
                }
              </div>
            </div>
          </div>
          <div class="card-footer example-button-row" align="center">
            <button mat-fab extended color="warn" (click)="unlinkAccount()">
                <mat-icon>person_off</mat-icon>
                Desvincular
              </button>
            @if(data.funcionario){
           
            } @else {
            <button>desvincular</button>
            }
            <ng-template #elseTemplate>
              <!-- <app-server-mat-select-search placeholder="Buscar funcionarios" [data]="officers"
                                [pathPropertyOfObjectDisplay]="'fullWorkTitle'" [allowNullValue]="false"
                                (eventSearch)="searchOfficer($event)"
                                (eventSelectedOption)="selectOfficer($event)"></app-server-mat-select-search> -->
            </ng-template>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="center" dynamicHeight>
          <mat-tab label="Cuenta">
            <form [formGroup]="FormAccount">
              <div class="row">
                <div class="col-12 mb-4">
                  <label for="textDependency" class="form-label">Dependencia</label>
                  <input
                    type="text"
                    class="form-control"
                    id="textDependency"
                    [value]="data.dependencia.nombre"
                    readonly
                  />
                </div>
                <div class="col-sm-6">
                  <mat-form-field appearance="fill">
                    <mat-label>Login</mat-label>
                    <input formControlName="login" matInput />
                  </mat-form-field>
                </div>
                <div class="col-sm-6">
                  <mat-form-field appearance="fill">
                    <mat-label>Permisos</mat-label>
                    <mat-select formControlName="rol">
                      <mat-option *ngFor="let rol of roles" [value]="rol._id">
                        {{ rol.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                @if(this.FormAccount.get('password')){
                <div class="col-sm-6">
                  <mat-form-field appearance="fill">
                    <mat-label>Password</mat-label>
                    <input matInput formControlName="password" />
                  </mat-form-field>
                </div>
                }
                <div class="col-sm-6">
                  <mat-checkbox [checked]="updatePassword" (change)="togglePassword($event.checked)">
                    Actualizar contrase√±a
                  </mat-checkbox>
                </div>
              </div>
              <div class="row"></div>
            </form>
          </mat-tab>
          <mat-tab label="">Content 2</mat-tab>
          <mat-tab label="Third">Content 3</mat-tab>
        </mat-tab-group>
      </div>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-raised-button color="warn" mat-dialog-close>Cancelar</button>
  <button mat-raised-button color="primary" [disabled]="FormAccount.invalid" (click)="save()">Guardar</button>
</mat-dialog-actions>
