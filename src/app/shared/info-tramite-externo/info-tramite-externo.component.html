<div class="container-fluid">
    <div class="alert alert-danger text-center" role="alert">
        <span class="fw-bold">
            Duracion: {{dateCount}}
        </span>
    </div>
    <div class="row g-2">
        <div class="col-sm-12">
            <div class="shadow rounded">
                <div class="card bg-transparent">
                    <div class="card-body">
                        <h5 class="card-title">{{Tramite.alterno}} / <span class="badge"
                                [ngClass]="Tramite.estado|state">{{Tramite.estado}}</span></h5>
                        <h6 class="card-subtitle mb-2 text-muted">Encargado: {{Tramite.fullNameManager}}
                        </h6>
                        <form class="row g-3">
                            <div class="col-12">
                                <label for="txtType" class="form-label">Tipo de tramite</label>
                                <input type="text" class="form-control" id="txtType"
                                    [value]="Tramite.tipo_tramite.nombre" readonly>
                            </div>
                            <div class="col-12">
                                <label for="txtDescription" class="form-label">Descripcion</label>
                                <textarea class="form-control" id="txtDescription"
                                    readonly>{{Tramite.detalle}}</textarea>
                            </div>
                            <div class="col-md-4">
                                <label for="txtCantidad" class="form-label">Cantidad</label>
                                <input type="text" class="form-control" id="txtCantidad" [value]="Tramite.cantidad"
                                    readonly>
                            </div>
                            <div class="col-md-4">
                                <label for="txtCite" class="form-label">Cite</label>
                                <input type="text" class="form-control" id="txtCite" [value]="Tramite.cite" readonly>
                            </div>
                            <div class="col-md-4">
                                <label for="txtPin" class="form-label">Pin</label>
                                <input type="text" class="form-control" id="txtPin" [value]="Tramite.pin" readonly>
                            </div>
                        </form>
                    </div>
                    <div class="card-footer">
                        <small class="text-body-secondary fs-6">FECHA REGISTRO:
                            {{Tramite.fecha_registro|date:'short'}}</small>
                    </div>
                    <div *ngIf="Tramite.fecha_finalizacion" class="card-footer">
                        <small class="text-body-secondary fs-6">FECHA CONCLUSION:
                            {{Tramite.fecha_finalizacion|date:'short'}}</small>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="shadow rounded">
                <div class="card bg-transparent">
                    <div class="card-body">
                        <h6 class="card-title">Solicitante: {{Tramite.solicitante.tipo}}</h6>
                        <div *ngIf="Tramite.solicitante.tipo==='NATURAL'; else applicantTemplate">
                            <form class="row g-3">
                                <div class="col-md-8">
                                    <label for="txtFirstName" class="form-label">Nombre</label>
                                    <input type="text" class="form-control" id="txtFirstName"
                                        [value]="Tramite.fullNameApplicant" readonly>
                                </div>
                                <div class="col-md-4">
                                    <label for="txtDni" class="form-label">Dni</label>
                                    <input type="text" class="form-control" id="txtDni"
                                        [value]="Tramite.solicitante.dni" readonly>
                                </div>
                                <div class="col-md-8">
                                    <label for="txtDocument" class="form-label">Documento</label>
                                    <input type="text" class="form-control" id="txtDocument"
                                        [value]="Tramite.solicitante.documento" readonly>
                                </div>
                                <div class="col-md-4">
                                    <label for="txtTelephone" class="form-label">Telfono</label>
                                    <input type="text" class="form-control" id="txtTelephone"
                                        [value]="Tramite.solicitante.telefono" readonly>
                                </div>
                            </form>
                        </div>

                        <ng-template #applicantTemplate>
                            <form class="row g-3">
                                <div class="col-md-9">
                                    <label for="txtFirstName" class="form-label">Nombre</label>
                                    <input type="text" class="form-control" id="txtFirstName"
                                        [value]="Tramite.fullNameApplicant" readonly>
                                </div>
                                <div class="col-md-3">
                                    <label for="txtTelephone" class="form-label">Telfono</label>
                                    <input type="text" class="form-control" id="txtTelephone"
                                        [value]="Tramite.solicitante.telefono" readonly>
                                </div>
                            </form>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="shadow rounded">
                <div class="card bg-transparent">
                    <div class="card-body">
                        <h6 class="card-title">Representante</h6>
                        <div *ngIf="Tramite.representante; else representativeTemplate">
                            <form class="row g-3">
                                <div class="col-md-8">
                                    <label for="txtFirstName" class="form-label">Nombre</label>
                                    <input type="text" class="form-control" id="txtFirstName"
                                        [value]="Tramite.fullNameRepresentative" readonly>
                                </div>
                                <div class="col-md-4">
                                    <label for="txtDni" class="form-label">Dni</label>
                                    <input type="text" class="form-control" id="txtDni"
                                        [value]="Tramite.representante.dni" readonly>
                                </div>
                                <div class="col-md-8">
                                    <label for="txtDocument" class="form-label">Documento</label>
                                    <input type="text" class="form-control" id="txtDocument"
                                        [value]="Tramite.representante.documento" readonly>
                                </div>
                                <div class="col-md-4">
                                    <label for="txtTelephone" class="form-label">Telfono</label>
                                    <input type="text" class="form-control" id="txtTelephone"
                                        [value]="Tramite.representante.telefono" readonly>
                                </div>
                            </form>
                        </div>
                        <ng-template #representativeTemplate>
                            <div class="alert alert-warning" role="alert">
                                Sin representante legal
                            </div>
                        </ng-template>
                    </div>
                </div>


            </div>
        </div>
        <div class="col-12">
            <div class="shadow rounded">
                <div class="card bg-transparent">
                    <div class="card-body">
                        <h6 class="card-title">Requerimientos presentados: {{Tramite.requerimientos.length}}</h6>
                        <ol *ngIf="Tramite.requerimientos.length>0; else noRequerimentsTemplate"
                            class="list-group list-group-numbered panel-requerimientos">
                            <li *ngFor="let requeriment of Tramite.requerimientos"
                                class="list-group-item d-flex justify-content-between align-items-start">
                                <div class="ms-2 me-auto">
                                    <div class="fw-bold">{{requeriment}}</div>
                                </div>
                            </li>
                        </ol>
                        <ng-template #noRequerimentsTemplate>
                            <div class="alert alert-primary" role="alert">
                                No se presentaron requerimientos
                            </div>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>