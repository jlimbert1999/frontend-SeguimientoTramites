<table mat-table [dataSource]="dataSource">
  @for (item of colums; track $index) {
  <ng-container matColumnDef="{{ item.columnDef }}">
    <th mat-header-cell *matHeaderCellDef>{{ item.header }}</th>
    <td mat-cell *matCellDef="let element">
      @switch (item.columnDef) { @case ('code') {
      <a class="primary-link" (click)="viewDetails(element)"> {{ element["code"] }}</a>
      } @case ('state') {
      <span class="badge" [ngClass]="element['state'] | state">
        {{ element.state }}
      </span>
      } @case ('startDate') {
      {{ element["startDate"] | date : "short" : "-400" }}
      } @default {
      {{ element[item.columnDef] }}
      }}
    </td>
  </ng-container>
  }
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell p-3" colspan="4">No se econtraron resultados</td>
  </tr>
</table>
