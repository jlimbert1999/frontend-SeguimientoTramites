<mat-toolbar>
    <button (click)="regresar()" mat-icon-button color="primary">
        <mat-icon>arrow_back</mat-icon>
    </button>
    <span>Tramite: Interno</span>
</mat-toolbar>


<mat-tab-group mat-stretch-tabs="false" mat-align-tabs="end" *ngIf="Tramite" [@slideInLeftOnEnter]>
    <mat-tab>
        <ng-template mat-tab-label>
            <mat-icon class="example-tab-icon">info</mat-icon>
            Informacion
        </ng-template>
        <ng-container>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-7">
                        <div class="card shadow mb-2 bg-body-tertiary rounded">
                            <div class="card-header fw-bold">
                                TRAMITE
                            </div>
                            <div class="card-body">
                                <form class="row g-3">
                                    <div class="col-md-8">
                                        <label class="form-label">Tipo de tramite</label>
                                        <input type="text" class="form-control" disabled
                                            [value]="Tramite.tipo_tramite.nombre">
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Cite</label>
                                        <input type="text" class="form-control" disabled [value]="Tramite.cite">
                                    </div>
                                    <div class="col-12">
                                        <label for="inputAddress" class="form-label">Referencia</label>
                                        <textarea class="form-control" disabled [value]="Tramite.detalle"></textarea>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Fecha registro</label>
                                        <input type="text" class="form-control" disabled
                                            [value]="Tramite.fecha_registro|date:'short'">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Cantidad hojas</label>
                                        <input type="text" class="form-control" disabled [value]="Tramite.cantidad">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Cite</label>
                                        <input type="text" class="form-control" disabled [value]="Tramite.cite">
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Estado</label>
                                        <h2>
                                            <span class="badge" [ngClass]="Tramite.estado|state">
                                                {{Tramite.estado|uppercase}}
                                            </span>
                                        </h2>
                                    </div>
                                    <div class="col-md-12">
                                        <label class="form-label">Ubicacion</label>
                                        <div class="card">
                                            <div class="card-body">
                                                <h3 class="card-title fw-bold">
                                                    {{Tramite.ubicacion.funcionario|fullname|titlecase}} (
                                                    {{Tramite.ubicacion.funcionario.cargo|uppercase}})</h3>
                                                <h5 class="card-subtitle mb-2 text-muted">
                                                    {{Tramite.ubicacion.dependencia.nombre}} -
                                                    {{Tramite.ubicacion.dependencia.institucion.sigla}}</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div [ngSwitch]="Tramite.estado" class="col-md-4">
                                        <div *ngSwitchCase="'CONCLUIDO'">
                                            <label class="form-label">Duracion proceso</label>
                                            <h2> {{count}}</h2>
                                        </div>
                                        <div *ngSwitchDefault>
                                            <label class="form-label">Tiempo transcurrido</label>
                                            <h2> <span class="badge text-bg-success">{{count}}</span></h2>
                                        </div>
                                    </div>
                                </form>
                            </div>

                        </div>

                    </div>
                    <div class="col-sm-5">
                        <div class="card shadow mb-2 bg-body-tertiary rounded">
                            <div class="card-header fw-bold">
                                REMITENTE
                            </div>
                            <div class="card-body">
                                <form class="row g-3">
                                    <div class="col-md-12">
                                        <label class="form-label">Nombre</label>
                                        <input class="form-control" type="text" value="{{Tramite.remitente.nombre}}"
                                            disabled readonly>
                                    </div>
                                    <div class="col-md-12">
                                        <label class="form-label">Cargo</label>
                                        <input class="form-control" type="text" value="{{Tramite.remitente.cargo}}"
                                            disabled readonly>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="card shadow mb-2 bg-body-tertiary rounded">
                            <div class="card-header fw-bold">
                                DESTINATARIO
                            </div>
                            <div class="card-body">
                                <form class="row g-3">
                                    <div class="col-md-12">
                                        <label class="form-label">Nombre</label>
                                        <input class="form-control" type="text" value="{{Tramite.remitente.nombre}}"
                                            disabled readonly>
                                    </div>
                                    <div class="col-md-12">
                                        <label class="form-label">Cargo</label>
                                        <input class="form-control" type="text" value="{{Tramite.remitente.cargo}}"
                                            disabled readonly>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card shadow mb-2 bg-body-tertiary rounded">
                            <div class="card-header fw-bold">
                                OOBSERVACIONES
                            </div>
                            <div class="card-body">
                                <app-observaciones [Options]="false"
                                    [Observaciones]="Tramite.observaciones"></app-observaciones>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </ng-container>
    </mat-tab>

    <mat-tab *ngIf="Workflow.length!==0">
        <ng-template mat-tab-label>
            <mat-icon class="example-tab-icon">groups</mat-icon>
            Flujo de trabajo
        </ng-template>
        <app-list-workflow *ngIf="Workflow" [Workflow]="Workflow"
            [fecha_registro]="Tramite.fecha_registro"></app-list-workflow>
    </mat-tab>
    <mat-tab *ngIf="Workflow.length!==0">
        <ng-template mat-tab-label>
            <mat-icon class="example-tab-icon">tenancy</mat-icon>
            Flujo de trabajo grafico
        </ng-template>
        <app-graph-workflow *ngIf="Workflow" [Workflow]="Workflow"></app-graph-workflow>
    </mat-tab>
</mat-tab-group>

<!-- </div> -->